# üß† –ú—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω—ã–π –±–æ—Ç –ø–æ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–º –≤–æ–ø—Ä–æ—Å–∞–º

–î–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç **–ø–æ–ª–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É**, **–Ω–∞–±–æ—Ä —Å–µ—Ä–≤–∏—Å–æ–≤**, **–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∞–≥–µ–Ω—Ç–æ–≤** –∏ **—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–æ–≥–æ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–≥–æ –±–æ—Ç–∞ (—É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç / —à–∫–æ–ª–∞ / EdTech).

---

## 1. –¶–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã

* –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
* –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É –∞–≥–µ–Ω—Ç–∞–º–∏
* –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –∏ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π
* –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ –≤—É–∑—ã –∏ –ø—Ä–∞–≤–∏–ª–∞
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ RAG (–æ—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)

---

## 2. –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (High-level)

```
[ –ö–ª–∏–µ–Ω—Ç (Telegram / Web) ]
            ‚Üì
[ API Gateway / Backend (FastAPI) ]
            ‚Üì
[ Agent Orchestrator ]
     ‚Üì        ‚Üì        ‚Üì
[Agent A] [Agent B] [Agent C]
     ‚Üì        ‚Üì        ‚Üì
   [ RAG / DB / Services ]
```

---

## 3. –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

### 3.1 Client Layer

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

* Telegram Bot
* Web UI (React / Next.js)
* Mobile App (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

üìå –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç **—Å—ã—Ä–æ–π –∑–∞–ø—Ä–æ—Å** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

### 3.2 API Gateway / Backend

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** FastAPI, REST / WebSocket

–§—É–Ω–∫—Ü–∏–∏:

* –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
* –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
* Rate limiting
* –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≤—É–∑, –∫—É—Ä—Å, —è–∑—ã–∫)
* –ü–µ—Ä–µ–¥–∞—á–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤ Orchestrator

---

### 3.3 Agent Orchestrator (–∫–ª—é—á–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞–º–∏

–§—É–Ω–∫—Ü–∏–∏:

* –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞
* –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω—É–∂–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤
* –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π / –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –≤—ã–∑–æ–≤
* –ê–≥—Ä–µ–≥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤
* –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**

* LangGraph / CrewAI / AutoGen
* Custom routing logic

---

## 4. –ê–≥–µ–Ω—Ç—ã (Core Agents)

### 4.1 Intent Router Agent

**–†–æ–ª—å:** –ø–æ–Ω–∏–º–∞–µ—Ç, *–æ —á—ë–º –≤–æ–ø—Ä–æ—Å*

–ü—Ä–∏–º–µ—Ä—ã intent:

* —É—á–µ–±–∞
* GPA
* –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ
* –¥–æ–∫—É–º–µ–Ω—Ç—ã
* –¥–µ–¥–ª–∞–π–Ω—ã

–í—ã—Ö–æ–¥:

```json
{
  "intents": ["gpa", "study"],
  "priority": "high"
}
```

---

### 4.2 Academic Tutor Agent

**–†–æ–ª—å:** —É—á–µ–±–Ω–∞—è –ø–æ–º–æ—â—å

–§—É–Ω–∫—Ü–∏–∏:

* –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ç–µ–º
* –ø—Ä–∏–º–µ—Ä—ã
* –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º

–ò—Å—Ç–æ—á–Ω–∏–∫–∏:

* —É—á–µ–±–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
* RAG

---

### 4.3 Academic Policy Agent

**–†–æ–ª—å:** –ø—Ä–∞–≤–∏–ª–∞, —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã, GPA

–§—É–Ω–∫—Ü–∏–∏:

* –∫—Ä–µ–¥–∏—Ç—ã
* –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è —á–µ—Å—Ç–Ω–æ—Å—Ç—å
* –æ—Ç—á–∏—Å–ª–µ–Ω–∏–µ / –ø–µ—Ä–µ—Å–¥–∞—á–∏

–ò—Å—Ç–æ—á–Ω–∏–∫–∏:

* PDF —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–æ–≤
* –ø—Ä–∏–∫–∞–∑—ã –≤—É–∑–∞

---

### 4.4 Admission Agent

**–†–æ–ª—å:** –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏ –≥—Ä–∞–Ω—Ç—ã

–§—É–Ω–∫—Ü–∏–∏:

* —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
* –¥–µ–¥–ª–∞–π–Ω—ã
* –¥–æ–∫—É–º–µ–Ω—Ç—ã

---

### 4.5 Deadline & Schedule Agent

**–†–æ–ª—å:** –¥–µ–¥–ª–∞–π–Ω—ã –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

–§—É–Ω–∫—Ü–∏–∏:

* –∫–∞–ª–µ–Ω–¥–∞—Ä—å
* —ç–∫–∑–∞–º–µ–Ω–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã
* –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Calendar

---

### 4.6 Validator / Critic Agent

**–†–æ–ª—å:** –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞

–§—É–Ω–∫—Ü–∏–∏:

* –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–∫–∏
* –≤—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–π
* —É–ø—Ä–æ—â–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞

---

## 5. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∞–≥–µ–Ω—Ç–æ–≤ (Flow)

### –ü—Ä–∏–º–µ—Ä: ¬´–ö–∞–∫ –ø–æ–¥–Ω—è—Ç—å GPA –∏ –Ω–µ –≤—ã–ª–µ—Ç–µ—Ç—å?¬ª

1. Intent Router ‚Üí GPA + Study
2. Policy Agent ‚Üí –ø—Ä–∞–≤–∏–ª–∞ GPA
3. Tutor Agent ‚Üí —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—É—á–µ–Ω–∏—è
4. Validator Agent ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞
5. Orchestrator ‚Üí –µ–¥–∏–Ω—ã–π –æ—Ç–≤–µ—Ç

---

## 6. RAG (Retrieval-Augmented Generation)

**–ó–∞—á–µ–º:** –æ—Ç–≤–µ—Ç—ã —Å—Ç—Ä–æ–≥–æ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≤—É–∑–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

* Vector DB (Qdran)
* Embeddings (OpenAI)
* Document Loader (PDF, DOCX)

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏:

* —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã
* —É—á–µ–±–Ω—ã–µ –ø–ª–∞–Ω—ã
* FAQ

### API –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

* `POST /api/rag/documents/upload` ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ–∞–π–ª (PDF/DOCX/TXT) –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (JSON –≤ –ø–æ–ª–µ `metadata`) –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.
* `GET /api/rag/documents/search?query=...&top_k=3` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å –∏—Ö –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –∏ score.
* `GET /api/rag/documents` ‚Äî —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (—Å `document_id`, —Ä–∞–∑–º–µ—Ä–æ–º, –¥–∞—Ç–æ–π –∑–∞–≥—Ä—É–∑–∫–∏).
* `DELETE /api/rag/documents/{document_id}` ‚Äî —É–¥–∞–ª—è–µ—Ç —Ñ–∞–π–ª –∏–∑ —Å—Ç–æ—Ä–∞–¥–∂–∞ –∏ —á–∏—Å—Ç–∏—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä–∞ –≤ Qdrant.
* –í docker-compose –¥–∞–Ω–Ω—ã—Ö Qdrant —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ volume `qdrant_data`, –ø–æ—ç—Ç–æ–º—É –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è.
* –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Qdrant (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –∏ –∑–∞–¥–µ—Ä–∂–∫–∏) —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ `QDRANT_RETRY_ATTEMPTS`, `QDRANT_RETRY_DELAY`, `QDRANT_RETRY_MAX_DELAY` –≤ `.env`.
* –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏ –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å in-memory fallback (`QDRANT_FALLBACK_ENABLED=true`), —á—Ç–æ–±—ã –∑–∞–≥—Ä—É–∑–∫–∞/–ø–æ–∏—Å–∫ –Ω–µ –ø–∞–¥–∞–ª–∏, –µ—Å–ª–∏ Qdrant –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Ä–∞–≤–Ω–∞ `false`, —á—Ç–æ–±—ã API –Ω–µ –ø–µ—Ä–µ—Ö–æ–¥–∏–ª –≤ –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º –∏ –Ω–µ —Ç–µ—Ä—è–ª —Ç–æ—á–∫–∏ –≤ Qdrant (–≤ fallback –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É —Ä–µ—Å—Ç–∞—Ä—Ç–∞–º–∏ API).
* –ï—Å–ª–∏ –º–µ–Ω—è–µ—Ç–µ –º–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, —Ä–∞–∑–º–µ—Ä –≤–µ–∫—Ç–æ—Ä–∞), –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é Qdrant, —á—Ç–æ–±—ã —Ä–∞–∑–º–µ—Ä —Å–æ–≤–ø–∞–¥–∞–ª.

---

## 7. –•—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö

### 7.1 –û—Å–Ω–æ–≤–Ω–∞—è –ë–î (PostgreSQL)

* –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
* –≤—É–∑—ã
* —Ä–æ–ª–∏
* –ª–æ–≥–∏

### 7.2 Vector DB

* embeddings –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
* —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫

### 7.3 Cache (Redis)

* —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã
* –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞

---

## 8. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend

* Python 3.11
* FastAPI
* SQLAlchemy
* Celery / BackgroundTasks

### AI / Agents

* OpenAI API / Local LLM
* LangGraph / CrewAI
* RAG pipeline

### DevOps

* Docker
* Docker Compose
* Nginx
* CI/CD (GitHub Actions)

---

## 9. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

* Role-based access (student / admin)
* –õ–æ–≥–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
* –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–µ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–æ
* –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ–ø–∞—Å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

---

## 10. MVP (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä)

–î–ª—è –∑–∞–ø—É—Å–∫–∞ MVP –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ:

* Telegram Bot
* FastAPI
* Orchestrator
* 3 –∞–≥–µ–Ω—Ç–∞:

  * Intent Router
  * Academic Tutor
  * Policy Agent
* RAG —Å PDF —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–∞–º–∏

---

## 11. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

* –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤—É–∑–æ–≤
* –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å
* –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
* –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

---

## 12. –ò—Ç–æ–≥

–î–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:

* –º–æ–¥—É–ª—å–Ω–∞—è
* –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è
* –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤—É–∑–æ–≤ –∏ EdTech
* –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –∞–≥–µ–Ω—Ç–∞–º–∏

---

üìå –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

* –¥–∏–∞–≥—Ä–∞–º–º–∞ –≤ Mermaid
* MVP-–∫–æ–¥ (FastAPI + LangGraph)
* Telegram-–±–æ—Ç
* –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤—É–∑

---

## 13. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (Production-ready)

–ù–∏–∂–µ ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –¥–ª—è **FastAPI + LangChain + –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**.

```
academic-bot/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ main.py                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings.py         # env, API keys, config
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logging.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ api/                    # HTTP / Webhook —Å–ª–æ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routers/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chat.py          # /chat endpoint
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ health.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ admin.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ deps.py             # –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (auth, db)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ agents/                 # –í–°–ï –ê–ì–ï–ù–¢–´
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py             # BaseAgent (–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ intent_router.py    # Intent Router Agent
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tutor_agent.py      # Academic Tutor Agent
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ policy_agent.py     # Academic Policy Agent
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admission_agent.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validator_agent.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ orchestrator/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ graph.py            # LangGraph workflow
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ router.py           # –ª–æ–≥–∏–∫–∞ –≤—ã–∑–æ–≤–∞ –∞–≥–µ–Ω—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ aggregator.py       # —Å–±–æ—Ä —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ langchain/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ llm.py              # –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è LLM
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prompts/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ intent.txt
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tutor.txt
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ policy.txt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tools/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ search.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ calculator.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ memory.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ rag/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ loader.py           # PDF/DOCX –∑–∞–≥—Ä—É–∑–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ embeddings.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ retriever.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ vector_store.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ session.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ crud.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user_context.py     # –≤—É–∑, –∫—É—Ä—Å, —è–∑—ã–∫
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ permissions.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ analytics.py
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ workers/
‚îÇ       ‚îî‚îÄ‚îÄ tasks.py            # Celery / background
‚îÇ
‚îú‚îÄ‚îÄ docker/
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile.worker
‚îÇ   ‚îî‚îÄ‚îÄ entrypoint.sh
‚îÇ
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ scripts/
    ‚îî‚îÄ‚îÄ ingest_docs.py          # –∑–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ RAG
```

---

## 14. –†–æ–ª–∏ –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

### `agents/base.py`

–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å –∞–≥–µ–Ω—Ç–∞:

* input schema
* run()
* tools

### `orchestrator/graph.py`

LangGraph:

* –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –∞–≥–µ–Ω—Ç–æ–≤
* –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ / –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### `api/routers/chat.py`

–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –æ–±—â–µ–Ω–∏—è:

* –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤–æ–ø—Ä–æ—Å
* –ø–µ—Ä–µ–¥–∞–µ—Ç –≤ orchestrator
* –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç

---

## 15. Docker

### Dockerfile (API)

* Python 3.11
* FastAPI + LangChain
* Uvicorn

### Dockerfile.worker

* —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏
* ingestion –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

---

## 16. docker-compose.yml (–º–∏–Ω–∏–º—É–º)

–°–µ—Ä–≤–∏—Å—ã:

* api
* postgres
* qdrant
* redis

---

## 17. –ü–æ—Ç–æ–∫ –∑–∞–ø—Ä–æ—Å–∞ (—Ä–µ–∞–ª—å–Ω–æ –∫–∞–∫ –≤ –∫–æ–¥–µ)

1. `/chat` ‚Üí FastAPI
2. Context Service ‚Üí –≤—É–∑, —è–∑—ã–∫
3. Intent Router Agent
4. Orchestrator ‚Üí –Ω—É–∂–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã
5. RAG Retriever
6. Validator Agent
7. –û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

---

## 18. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

* –ö–∞–∂–¥—ã–π –∞–≥–µ–Ω—Ç = –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª
* Prompts –≤—ã–Ω–æ—Å–∏—Ç—å –≤ `.txt`
* RAG —Å—Ç—Ä–æ–≥–æ –æ—Ç–¥–µ–ª—è—Ç—å –æ—Ç –∞–≥–µ–Ω—Ç–æ–≤
* Orchestrator –Ω–µ –∑–Ω–∞–µ—Ç –¥–µ—Ç–∞–ª–µ–π –∞–≥–µ–Ω—Ç–æ–≤

---

## 19. –ò—Ç–æ–≥–æ–≤–∞—è –ª–æ–≥–∏–∫–∞

FastAPI = –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
LangChain = –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç
LangGraph = —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
Docker = –ø—Ä–æ–¥–∞–∫—à–µ–Ω

---

## 20. Docker Compose –∑–∞–ø—É—Å–∫

`docker-compose.yml` –ø–æ–¥–Ω–∏–º–∞–µ—Ç —Å–µ—Ä–≤–∏—Å—ã `api`, `frontend`, `celery`, `postgresql`, `qdrant` –∏ `redis`.

–°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫:

```bash
docker compose up --build -d frontend api celery postgresql qdrant redis
```

–ö–æ–º–∞–Ω–¥–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å–æ–±–µ—Ä–µ—Ç –æ–±—Ä–∞–∑—ã –∏ —Ä–∞–∑–≤–µ—Ä–Ω–µ—Ç –Ω—É–∂–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.

### –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

* –í `.env` –∑–∞–¥–∞—é—Ç—Å—è `QDRANT_URL`, `QDRANT_COLLECTION`, `RAG_STORAGE_PATH`.
* Docker Compose –∏—Å–ø–æ–ª—å–∑—É–µ—Ç volume `rag_storage`, —á—Ç–æ–±—ã API –∏ Celery –∏–º–µ–ª–∏ –æ–±—â–∏–π –¥–æ—Å—Ç—É–ø –∫ `/app/storage` (—Ñ–∞–π–ª—ã –¥–ª—è RAG).
* –î–ª—è Qdrant –¥–æ–±–∞–≤–ª–µ–Ω volume `qdrant_data`, —á—Ç–æ–±—ã –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –Ω–µ —Ç–µ—Ä—è–ª–∏—Å—å –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏.
* –°–µ—Ä–≤–∏—Å `frontend` —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `docker/Dockerfile.frontend` (Vite ‚Üí Nginx) –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:3000`.

## 21. LLM (—Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç)

* –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç —Å–æ–±–∏—Ä–∞–µ—Ç LLM –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–≤–æ–¥–æ–≤ –∞–≥–µ–Ω—Ç–æ–≤ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ RAG.
* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `OPENAI_API_KEY`, `OPENAI_MODEL`, `OPENAI_EMBEDDINGS_MODEL`, `OPENAI_EMBEDDINGS_DIM` (—Å–º. `.env.example`).
* –í `backend/langchain/prompts/final_answer.txt` –ª–µ–∂–∏—Ç –ø—Ä–æ–º–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–∏–ª–µ–º –æ—Ç–≤–µ—Ç–∞ –∏ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏.
* –ï—Å–ª–∏ –∫–ª—é—á–∞ –Ω–µ—Ç, —Å–∏—Å—Ç–µ–º–∞ –≤–µ—Ä–Ω—ë—Ç –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—é —á–∞—Å—Ç–∏—á–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤.

## 22. Frontend (Vite + React)

–§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `frontend/` –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:

* hero-—ç–∫—Ä–∞–Ω —Å –∫—Ä–∞—Ç–∫–∏–º —Å—Ç–∞—Ç—É—Å–æ–º —Å–µ—Ä–≤–∏—Å–∞;
* –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è RAG-–¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ (—Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤, –∑–∞–≥—Ä—É–∑–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ);
* –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —á–∞—Ç-–≤–∏–¥–∂–µ—Ç–∞.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
cd frontend
cp .env.example .env              # –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–º–µ–Ω—è–π—Ç–µ VITE_API_BASE_URL
npm install                       # —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm run dev                       # –ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ http://localhost:5173
npm run build                     # production-—Å–±–æ—Ä–∫–∞
npm run preview                   # –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–±—Ä–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏
```

–ü–∞—Ä–∞–º–µ—Ç—Ä `VITE_API_BASE_URL` –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ backend (`http://localhost:8000/api`), —á—Ç–æ–±—ã –∑–∞–≥—Ä—É–∑–∫–∞/—É–¥–∞–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–ª–∏ –±–µ–∑ –ø—Ä–æ–∫—Å–∏.

### Docker

–§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ç–∞–∫–∂–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —á–µ—Ä–µ–∑ `docker/Dockerfile.frontend` –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∫ —Å–µ—Ä–≤–∏—Å `frontend`:

```bash
docker compose up --build frontend
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:3000` –∏ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –≤ backend –ø–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É –∞–¥—Ä–µ—Å—É `http://api:8000/api`.
# AcademicQuestionBot
# AcademicQuestionBot
